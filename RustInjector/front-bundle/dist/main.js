(()=>{var t={249:()=>{(()=>{var t={778:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var o=n(81),i=n.n(o),r=n(645),s=n.n(r)()(i());s.push([t.id,'.switch{--line: #c67ed0;--dot: #9ff7c1;--circle: rgb(224, 150, 170);--duration: .3s;--text: #9EA0BE;cursor:pointer}.switch input{display:none}.switch input+div{position:relative}.switch input+div:before,.switch input+div:after{--s: 1;content:"";position:absolute;height:4px;top:10px;width:24px;background:var(--line);transform:scaleX(var(--s));transition:transform var(--duration) ease}.switch input+div:before{--s: 0;left:0;transform-origin:0 50%;border-radius:2px 0 0 2px}.switch input+div:after{left:28px;transform-origin:100% 50%;border-radius:0 2px 2px 0}.switch input+div span{padding-left:56px;line-height:24px;color:var(--text)}.switch input+div span:before{--x: 0;--b: var(--circle);--s: 4px;content:"";position:absolute;left:0;top:0;width:24px;height:24px;border-radius:50%;box-shadow:inset 0 0 0 var(--s) var(--b);transform:translateX(var(--x));transition:box-shadow var(--duration) ease,transform var(--duration) ease}.switch input+div span:not(:empty){padding-left:64px}.switch input:checked+div:before{--s: 1}.switch input:checked+div:after{--s: 0}.switch input:checked+div span:before{--x: 28px;--s: 12px;--b: var(--dot)}',""]);const a=s},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,o,i,r){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(o)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var l=0;l<t.length;l++){var u=[].concat(t[l]);o&&s[u[0]]||(void 0!==r&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=r),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),e.push(u))}},e}},81:t=>{"use strict";t.exports=function(t){return t[1]}},277:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>v});var o=n(379),i=n.n(o),r=n(795),s=n.n(r),a=n(569),c=n.n(a),l=n(565),u=n.n(l),d=n(216),p=n.n(d),f=n(589),h=n.n(f),m=n(778),y={};y.styleTagTransform=h(),y.setAttributes=u(),y.insert=c().bind(null,"head"),y.domAPI=s(),y.insertStyleElement=p(),i()(m.Z,y);const v=m.Z&&m.Z.locals?m.Z.locals:void 0},379:t=>{"use strict";var e=[];function n(t){for(var n=-1,o=0;o<e.length;o++)if(e[o].identifier===t){n=o;break}return n}function o(t,o){for(var r={},s=[],a=0;a<t.length;a++){var c=t[a],l=o.base?c[0]+o.base:c[0],u=r[l]||0,d="".concat(l," ").concat(u);r[l]=u+1;var p=n(d),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)e[p].references++,e[p].updater(f);else{var h=i(f,o);o.byIndex=a,e.splice(a,0,{identifier:d,updater:h,references:1})}s.push(d)}return s}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var r=o(t=t||[],i=i||{});return function(t){t=t||[];for(var s=0;s<r.length;s++){var a=n(r[s]);e[a].references--}for(var c=o(t,i),l=0;l<r.length;l++){var u=n(r[l]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}r=c}}},569:t=>{"use strict";var e={};t.exports=function(t,n){var o=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,i&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(o,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={id:o,exports:{}};return t[o](r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nc=void 0,n(277),window.createSwitch=function(){const t=document.createElement("label");t.className="switch";const e=document.createElement("input");e.type="checkbox";const n=document.createElement("div");return n.appendChild(document.createElement("span")),t.appendChild(e),t.appendChild(n),t}})(),(()=>{var t={235:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var o=n(81),i=n.n(o),r=n(645),s=n.n(r)()(i());s.push([t.id,"/*!\n * Toastify js 1.12.0\n * https://github.com/apvarun/toastify-js\n * @license MIT licensed\n *\n * Copyright (C) 2018 Varun A P\n */\n\n.toastify {\n    padding: 12px 20px;\n    color: #ffffff;\n    display: inline-block;\n    box-shadow: 0 3px 6px -1px rgba(0, 0, 0, 0.12), 0 10px 36px -4px rgba(77, 96, 232, 0.3);\n    background: -webkit-linear-gradient(315deg, #73a5ff, #5477f5);\n    background: linear-gradient(135deg, #73a5ff, #5477f5);\n    position: fixed;\n    opacity: 0;\n    transition: all 0.4s cubic-bezier(0.215, 0.61, 0.355, 1);\n    border-radius: 2px;\n    cursor: pointer;\n    text-decoration: none;\n    max-width: calc(50% - 20px);\n    z-index: 2147483647;\n}\n\n.toastify.on {\n    opacity: 1;\n}\n\n.toast-close {\n    background: transparent;\n    border: 0;\n    color: white;\n    cursor: pointer;\n    font-family: inherit;\n    font-size: 1em;\n    opacity: 0.4;\n    padding: 0 5px;\n}\n\n.toastify-right {\n    right: 15px;\n}\n\n.toastify-left {\n    left: 15px;\n}\n\n.toastify-top {\n    top: -150px;\n}\n\n.toastify-bottom {\n    bottom: -150px;\n}\n\n.toastify-rounded {\n    border-radius: 25px;\n}\n\n.toastify-avatar {\n    width: 1.5em;\n    height: 1.5em;\n    margin: -7px 5px;\n    border-radius: 2px;\n}\n\n.toastify-center {\n    margin-left: auto;\n    margin-right: auto;\n    left: 0;\n    right: 0;\n    max-width: fit-content;\n    max-width: -moz-fit-content;\n}\n\n@media only screen and (max-width: 360px) {\n    .toastify-right, .toastify-left {\n        margin-left: auto;\n        margin-right: auto;\n        left: 0;\n        right: 0;\n        max-width: fit-content;\n    }\n}\n",""]);const a=s},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,o,i,r){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(o)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var l=0;l<t.length;l++){var u=[].concat(t[l]);o&&s[u[0]]||(void 0!==r&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=r),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),e.push(u))}},e}},81:t=>{"use strict";t.exports=function(t){return t[1]}},379:t=>{"use strict";var e=[];function n(t){for(var n=-1,o=0;o<e.length;o++)if(e[o].identifier===t){n=o;break}return n}function o(t,o){for(var r={},s=[],a=0;a<t.length;a++){var c=t[a],l=o.base?c[0]+o.base:c[0],u=r[l]||0,d="".concat(l," ").concat(u);r[l]=u+1;var p=n(d),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)e[p].references++,e[p].updater(f);else{var h=i(f,o);o.byIndex=a,e.splice(a,0,{identifier:d,updater:h,references:1})}s.push(d)}return s}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var r=o(t=t||[],i=i||{});return function(t){t=t||[];for(var s=0;s<r.length;s++){var a=n(r[s]);e[a].references--}for(var c=o(t,i),l=0;l<r.length;l++){var u=n(r[l]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}r=c}}},569:t=>{"use strict";var e={};t.exports=function(t,n){var o=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,i&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(o,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},588:function(t){var e;e=function(t){var e=function(t){return new e.lib.init(t)};function n(t,e){return e.offset[t]?isNaN(e.offset[t])?e.offset[t]:e.offset[t]+"px":"0px"}function o(t,e){return!(!t||"string"!=typeof e||!(t.className&&t.className.trim().split(/\s+/gi).indexOf(e)>-1))}return e.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:300,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},e.lib=e.prototype={toastify:"1.12.0",constructor:e,init:function(t){return t||(t={}),this.options={},this.toastElement=null,this.options.text=t.text||e.defaults.text,this.options.node=t.node||e.defaults.node,this.options.duration=0===t.duration?0:t.duration||e.defaults.duration,this.options.selector=t.selector||e.defaults.selector,this.options.callback=t.callback||e.defaults.callback,this.options.destination=t.destination||e.defaults.destination,this.options.newWindow=t.newWindow||e.defaults.newWindow,this.options.close=t.close||e.defaults.close,this.options.gravity="bottom"===t.gravity?"toastify-bottom":e.defaults.gravity,this.options.positionLeft=t.positionLeft||e.defaults.positionLeft,this.options.position=t.position||e.defaults.position,this.options.backgroundColor=t.backgroundColor||e.defaults.backgroundColor,this.options.avatar=t.avatar||e.defaults.avatar,this.options.className=t.className||e.defaults.className,this.options.stopOnFocus=void 0===t.stopOnFocus?e.defaults.stopOnFocus:t.stopOnFocus,this.options.onClick=t.onClick||e.defaults.onClick,this.options.offset=t.offset||e.defaults.offset,this.options.escapeMarkup=void 0!==t.escapeMarkup?t.escapeMarkup:e.defaults.escapeMarkup,this.options.ariaLive=t.ariaLive||e.defaults.ariaLive,this.options.style=t.style||e.defaults.style,t.backgroundColor&&(this.options.style.background=t.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var t=document.createElement("div");for(var e in t.className="toastify on "+this.options.className,this.options.position?t.className+=" toastify-"+this.options.position:!0===this.options.positionLeft?(t.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):t.className+=" toastify-right",t.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.'),this.options.style)t.style[e]=this.options.style[e];if(this.options.ariaLive&&t.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)t.appendChild(this.options.node);else if(this.options.escapeMarkup?t.innerText=this.options.text:t.innerHTML=this.options.text,""!==this.options.avatar){var o=document.createElement("img");o.src=this.options.avatar,o.className="toastify-avatar","left"==this.options.position||!0===this.options.positionLeft?t.appendChild(o):t.insertAdjacentElement("afterbegin",o)}if(!0===this.options.close){var i=document.createElement("button");i.type="button",i.setAttribute("aria-label","Close"),i.className="toast-close",i.innerHTML="&#10006;",i.addEventListener("click",function(t){t.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));var r=window.innerWidth>0?window.innerWidth:screen.width;("left"==this.options.position||!0===this.options.positionLeft)&&r>360?t.insertAdjacentElement("afterbegin",i):t.appendChild(i)}if(this.options.stopOnFocus&&this.options.duration>0){var s=this;t.addEventListener("mouseover",(function(e){window.clearTimeout(t.timeOutValue)})),t.addEventListener("mouseleave",(function(){t.timeOutValue=window.setTimeout((function(){s.removeElement(t)}),s.options.duration)}))}if(void 0!==this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),!0===this.options.newWindow?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),"function"==typeof this.options.onClick&&void 0===this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),this.options.onClick()}.bind(this)),"object"==typeof this.options.offset){var a=n("x",this.options),c=n("y",this.options),l="left"==this.options.position?a:"-"+a,u="toastify-top"==this.options.gravity?c:"-"+c;t.style.transform="translate("+l+","+u+")"}return t},showToast:function(){var t;if(this.toastElement=this.buildToast(),!(t="string"==typeof this.options.selector?document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||"undefined"!=typeof ShadowRoot&&this.options.selector instanceof ShadowRoot?this.options.selector:document.body))throw"Root element is not defined";var n=e.defaults.oldestFirst?t.firstChild:t.lastChild;return t.insertBefore(this.toastElement,n),e.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(t){t.className=t.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),t.parentNode&&t.parentNode.removeChild(t),this.options.callback.call(t),e.reposition()}.bind(this),400)}},e.reposition=function(){for(var t,e={top:15,bottom:15},n={top:15,bottom:15},i={top:15,bottom:15},r=document.getElementsByClassName("toastify"),s=0;s<r.length;s++){t=!0===o(r[s],"toastify-top")?"toastify-top":"toastify-bottom";var a=r[s].offsetHeight;t=t.substr(9,t.length-1),(window.innerWidth>0?window.innerWidth:screen.width)<=360?(r[s].style[t]=i[t]+"px",i[t]+=a+15):!0===o(r[s],"toastify-left")?(r[s].style[t]=e[t]+"px",e[t]+=a+15):(r[s].style[t]=n[t]+"px",n[t]+=a+15)}return this},e.lib.init.prototype=e.lib,e},t.exports?t.exports=e():this.Toastify=e()}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={id:o,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0,(()=>{"use strict";var t=n(588),e=n.n(t),o=n(379),i=n.n(o),r=n(795),s=n.n(r),a=n(569),c=n.n(a),l=n(565),u=n.n(l),d=n(216),p=n.n(d),f=n(589),h=n.n(f),m=n(235),y={};y.styleTagTransform=h(),y.setAttributes=u(),y.insert=c().bind(null,"head"),y.domAPI=s(),y.insertStyleElement=p(),i()(m.Z,y),m.Z&&m.Z.locals&&m.Z.locals,window.customToast=function(t){e()({text:t,duration:3e3,destination:"https://github.com/apvarun/toastify-js",newWindow:!0,close:!1,gravity:"top",position:"center",stopOnFocus:!1,style:{background:"linear-gradient(to right, #f1cede, #fc70b0)",padding:"4px 10px"},onClick:function(){}}).showToast()}})()})(),window.injectCss=function(t,e){for(let[n,o]of Object.entries(e))t.style[n]=o};const t={childList:!0,subtree:!0};window.addEventListener("DOMContentLoaded",(()=>{let e;const n=()=>{document.querySelector(".logo2").remove(),document.querySelector(".logo1").style.paddingLeft="10px",document.querySelector(".m-leftbox").style.left="40px";const t=createSwitch();t.querySelector("input").checked=window.lrcStatus=!0,emitMessage({lrcStatus:!0}),t.addEventListener("click",(t=>{if("checkbox"!==t.target.type)return;const e=window.lrcStatus=t.target.checked;customToast(e?"lrc start":"lrc stop"),emitMessage({lrcStatus:e})})),injectCss(t,{paddingLeft:"10px",transform:"scale(0.5)"}),document.querySelector(".m-topbox.j-topbox").appendChild(t)};document.querySelector(".m-topbox.j-topbox")&&n(),e=new MutationObserver((()=>{document.querySelector(".m-topbox.j-topbox")&&(e.disconnect(),n())})),e.observe(document.body,t)}))}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={exports:{}};return t[o](r,r.exports,n),r.exports}(()=>{"use strict";n(249);var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};function e(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}function o(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,i,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s}function i(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t}var r=function(t,e){this.target=e,this.type=t},s=function(t){function n(e,n){var o=t.call(this,"error",n)||this;return o.message=e.message,o.error=e,o}return e(n,t),n}(r),a=function(t){function n(e,n,o){void 0===e&&(e=1e3),void 0===n&&(n="");var i=t.call(this,"close",o)||this;return i.wasClean=!0,i.code=e,i.reason=n,i}return e(n,t),n}(r),c=function(){if("undefined"!=typeof WebSocket)return WebSocket},l={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+4e3*Math.random(),minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1};const u=function(){function t(t,e,n){var o=this;void 0===n&&(n={}),this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._handleOpen=function(t){o._debug("open event");var e=o._options.minUptime,n=void 0===e?l.minUptime:e;clearTimeout(o._connectTimeout),o._uptimeTimeout=setTimeout((function(){return o._acceptOpen()}),n),o._ws.binaryType=o._binaryType,o._messageQueue.forEach((function(t){return o._ws.send(t)})),o._messageQueue=[],o.onopen&&o.onopen(t),o._listeners.open.forEach((function(e){return o._callEventListener(t,e)}))},this._handleMessage=function(t){o._debug("message event"),o.onmessage&&o.onmessage(t),o._listeners.message.forEach((function(e){return o._callEventListener(t,e)}))},this._handleError=function(t){o._debug("error event",t.message),o._disconnect(void 0,"TIMEOUT"===t.message?"timeout":void 0),o.onerror&&o.onerror(t),o._debug("exec error listeners"),o._listeners.error.forEach((function(e){return o._callEventListener(t,e)})),o._connect()},this._handleClose=function(t){o._debug("close event"),o._clearTimeouts(),o._shouldReconnect&&o._connect(),o.onclose&&o.onclose(t),o._listeners.close.forEach((function(e){return o._callEventListener(t,e)}))},this._url=t,this._protocols=e,this._options=n,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}return Object.defineProperty(t,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(t,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(t,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CONNECTING",{get:function(){return t.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"OPEN",{get:function(){return t.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CLOSING",{get:function(){return t.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CLOSED",{get:function(){return t.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(t){this._binaryType=t,this._ws&&(this._ws.binaryType=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bufferedAmount",{get:function(){return this._messageQueue.reduce((function(t,e){return"string"==typeof e?t+=e.length:e instanceof Blob?t+=e.size:t+=e.byteLength,t}),0)+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:this._options.startClosed?t.CLOSED:t.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!0,configurable:!0}),t.prototype.close=function(t,e){void 0===t&&(t=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),this._ws?this._ws.readyState!==this.CLOSED?this._ws.close(t,e):this._debug("close: already closed"):this._debug("close enqueued: no ws instance")},t.prototype.reconnect=function(t,e){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,this._ws&&this._ws.readyState!==this.CLOSED?(this._disconnect(t,e),this._connect()):this._connect()},t.prototype.send=function(t){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",t),this._ws.send(t);else{var e=this._options.maxEnqueuedMessages,n=void 0===e?l.maxEnqueuedMessages:e;this._messageQueue.length<n&&(this._debug("enqueue",t),this._messageQueue.push(t))}},t.prototype.addEventListener=function(t,e){this._listeners[t]&&this._listeners[t].push(e)},t.prototype.dispatchEvent=function(t){var e,n,o=this._listeners[t.type];if(o)try{for(var i=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}(o),r=i.next();!r.done;r=i.next()){var s=r.value;this._callEventListener(t,s)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return!0},t.prototype.removeEventListener=function(t,e){this._listeners[t]&&(this._listeners[t]=this._listeners[t].filter((function(t){return t!==e})))},t.prototype._debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._options.debug&&console.log.apply(console,i(["RWS>"],t))},t.prototype._getNextDelay=function(){var t=this._options,e=t.reconnectionDelayGrowFactor,n=void 0===e?l.reconnectionDelayGrowFactor:e,o=t.minReconnectionDelay,i=void 0===o?l.minReconnectionDelay:o,r=t.maxReconnectionDelay,s=void 0===r?l.maxReconnectionDelay:r,a=0;return this._retryCount>0&&(a=i*Math.pow(n,this._retryCount-1))>s&&(a=s),this._debug("next delay",a),a},t.prototype._wait=function(){var t=this;return new Promise((function(e){setTimeout(e,t._getNextDelay())}))},t.prototype._getNextUrl=function(t){if("string"==typeof t)return Promise.resolve(t);if("function"==typeof t){var e=t();if("string"==typeof e)return Promise.resolve(e);if(e.then)return e}throw Error("Invalid URL")},t.prototype._connect=function(){var t=this;if(!this._connectLock&&this._shouldReconnect){this._connectLock=!0;var e=this._options,n=e.maxRetries,o=void 0===n?l.maxRetries:n,i=e.connectionTimeout,r=void 0===i?l.connectionTimeout:i,s=e.WebSocket,a=void 0===s?c():s;if(this._retryCount>=o)this._debug("max retries reached",this._retryCount,">=",o);else{if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),void 0===(u=a)||!u||2!==u.CLOSING)throw Error("No valid WebSocket class provided");var u;this._wait().then((function(){return t._getNextUrl(t._url)})).then((function(e){t._closeCalled||(t._debug("connect",{url:e,protocols:t._protocols}),t._ws=t._protocols?new a(e,t._protocols):new a(e),t._ws.binaryType=t._binaryType,t._connectLock=!1,t._addListeners(),t._connectTimeout=setTimeout((function(){return t._handleTimeout()}),r))}))}}},t.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new s(Error("TIMEOUT"),this))},t.prototype._disconnect=function(t,e){if(void 0===t&&(t=1e3),this._clearTimeouts(),this._ws){this._removeListeners();try{this._ws.close(t,e),this._handleClose(new a(t,e,this))}catch(t){}}},t.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},t.prototype._callEventListener=function(t,e){"handleEvent"in e?e.handleEvent(t):e(t)},t.prototype._removeListeners=function(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},t.prototype._addListeners=function(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},t.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},t}();function d(t,e){window.addEventListener("DOMContentLoaded",(()=>{for(let[n,o]of Object.entries(ctl.cefPlayer))o instanceof Object&&Object.keys(o).includes(t)&&(window[e]=n)}))}function p(){emitMessage({isPlaying:"play"===window.playerProxy})}function f(){const t=document.querySelector(".btn-love").getAttribute("data-res-id");window.songID=t;const e=document.querySelectorAll(".j-title")[1].children[0],n=document.querySelector(".f-dib"),o=n.querySelector(".s-fc4");let i,r,s;n.children.length>2?(i=n.children[0].innerText,r=o&&o.innerText):(i=n.innerText,r=o&&o.innerText),s=e.children.length>2?e.children[0].innerText:e.innerText,r&&(i=i.split(r).join("")),emitMessage({songID:t}),emitMessage({songName:i}),emitMessage({subSongName:r}),emitMessage({artistName:s})}d("onpositionchange","cefTriggerName");const h={childList:!0,subtree:!0};function m(){p(),f(),emitMessage({lrcStatus:window.lrcStatus})}let y=!1;function v(t){emitMessage({type:"pop",songId:t})}window.addEventListener("DOMContentLoaded",(()=>{ctl.cefPlayer[cefTriggerName].onplayend.push((t=>{const{playId:e,reason:n}=t;"end"===n&&v(e.split("_")[0])}))}));const b="http://www.w3.org/2000/svg";function g(t){const e=document.createElementNS(b,"path");return e.setAttribute("fill","currentColor"),e.setAttribute("d",t),e}function w(){const t=document.querySelector("#order-list"),e=document.querySelector("#order-list-ul");e&&e.remove();const n=document.createElement("div");if(n.setAttribute("id","order-list-ul"),n.setAttribute("style","outline: none; margin: 0;"),window.orderList&&0!==window.orderList.length)window.orderList.forEach(((t,e)=>{const o=document.createElement("div");o.setAttribute("style","display: inline-flex: line-height: 34px;");const i=document.createElement("span");i.innerHTML=`${t.name||""}`,i.setAttribute("style","margin-left: 19px; display: inline-block; color: #333333; line-height: 34px; width: 140px; overflow: hidden; white-space: nowrap; text-overflow: ellipsis;");const r=document.createElement("span");r.innerHTML=t.artist?`(${t.artist})`:"",r.setAttribute("style","display: inline-block; width: 70px; line-height: 34px; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; color: rgba(0, 0, 0, 0.2); margin-left: 2px;"),o.appendChild(i),o.appendChild(r);const s=document.createElement("div");s.innerHTML=t.userName,s.setAttribute("style","display: inline-block; color: #333333; line-height: 34px; width: 110px; overflow: hidden; white-space: nowrap; text-overflow: ellipsis;");const a=document.createElementNS(b,"svg");a.setAttribute("width",32),a.setAttribute("height",32),a.setAttribute("viewBox","0 0 512 512");const c=g("M400 145.49L366.51 112L256 222.51L145.49 112L112 145.49L222.51 256L112 366.51L145.49 400L256 289.49L366.51 400L400 366.51L289.49 256L400 145.49z");a.appendChild(c);const l=document.createElement("div");l.setAttribute("style","transform: scale(0.5); cursor: pointer;"),l.setAttribute("title","移除点歌"),a.addEventListener("click",(t=>{const e=t.target.getAttribute("data-songId");console.log(e,"songId"),v(e)})),l.appendChild(a);const u=(()=>{const t=document.createElement("li");return t.setAttribute("style","display: flex; align-item: center;"),t.setAttribute("class","order-li"),t})();n.appendChild(u),u.appendChild(o),u.appendChild(s),u.appendChild(l),l.setAttribute("data-songId",t.id),e%2==1&&(u.style.background="rgba(0, 0, 0, 0.02)")}));else{const t=document.createElement("div");t.innerHTML="暂无点歌歌单",t.setAttribute("style","text-align: center; margin-top: 200px;"),n.appendChild(t)}t.appendChild(n)}window.addEventListener("load",(()=>{(function(){const t=document.createElement("div"),e=document.createElementNS(b,"svg");e.setAttribute("width",24),e.setAttribute("height",24),e.setAttribute("viewBox","0 0 24 24"),e.appendChild(g("m8 6.104l11-1.117V16a3 3 0 1 1-1-2.236v-4.72l-9 .993V17a3 3 0 1 1-1-2.236v-8.66Zm1 .904V9.03l9-.993V6.094l-9 .914ZM8 17a2 2 0 1 0-4 0a2 2 0 0 0 4 0Zm10-1a2 2 0 1 0-4 0a2 2 0 0 0 4 0Z")),t.appendChild(e),t.setAttribute("style","height: 24px; width: 24px; right: 230px; transform: translateY(-50%); cursor: pointer;"),t.setAttribute("title","点歌列表"),document.querySelector("#main-player").insertBefore(t,document.querySelector(".spk.f-vc.f-cp.j-vol")),t.addEventListener("click",(()=>{if(y=!y,y)!function(){const t=document.createElement("div");t.setAttribute("style","width: 400px; z-index: 300; background-color: white; position: absolute; top: 60px; bottom: 72px; box-shadow: 0 2px 20px 0 rgb(0 0 0 / 20%); right: 0;"),t.setAttribute("id","order-list");const e=document.createElement("h2");e.setAttribute("id","order-list-header"),e.innerHTML="点播歌单",e.setAttribute("style","height: 40px; font-size: 20px; line-height: 20px; font-weight: 800; margin: 22px 0 0 20px; border-bottom: 1px solid rgba(0, 0, 0, 0.05);"),t.appendChild(e),document.body.appendChild(t),w()}();else{const t=document.querySelector("#order-list");t&&t.remove()}}))})(),document.querySelector(".btnc.btnc-nxt").addEventListener("click",(()=>{try{if(!window.orderList.length)return;const t=window.orderList[0].id;if(+window.songID!==t)return;v(t)}catch(t){console.error(t)}})),document.querySelector(".btnc.btnc-prv").addEventListener("click",(()=>{}))})),d(),function(){const t=new u("ws://localhost:13430"),e={timeout:3e4,timeoutObj:null,reset:function(){clearTimeout(this.timeoutObj),this.start()},start:function(){this.timeoutObj=setTimeout((()=>{console.log("beat..."),m()}),this.timeout)}};t.onopen=()=>{e.start()},t.onmessage=t=>{"init"===t.data&&m(),window.onSocketMsgCB?.forEach((e=>e(t)))},window.emitMessage=(n={})=>{e.reset(),t.send(JSON.stringify({status:"start"})),t.send(JSON.stringify(n))}}(),window.playerProxy="stop",window.addEventListener("DOMContentLoaded",(()=>{Object.defineProperty(window.player,"playState",{get:()=>window.playerProxy||{},set(t){window.playerProxy=t,p()}}),p()})),window.addEventListener("DOMContentLoaded",(()=>{let t;t=new MutationObserver((()=>{const e=document.querySelector(".info");e&&(t.disconnect(),new MutationObserver(((t,e)=>{f()})).observe(e,h))})),t.observe(document.body,h)})),window.addEventListener("DOMContentLoaded",(()=>{ctl.cefPlayer[cefTriggerName].onpositionchange.push((({current:t,duration:e}={})=>{emitMessage({current:t}),emitMessage({duration:e})}))})),window.addEventListener("load",(()=>{var t;t=t=>{try{const{type:e,orderList:n}=JSON.parse(t.data);if("play"!==e)return;const o="string"==typeof n?JSON.parse(n):n;if(function(t){window.orderList=t,y&&w()}(o),!o.length)return;!function(t){const e=function(t,e){for(var n in t){for(var o=!0,i=0,r=e;i<r.length;i++){var s=r[i];t[n].toString().includes(s)||(o=!1)}if(o)return n}}(ctl.actionManager,[".logSource=",".actionType!==undefined){"]);ctl.actionManager[e]({id:t,type:"4",action:"play",from:0,href:"",data:{}})}(o[0].id)}catch(t){console.error(t)}},window.onSocketMsgCB||(window.onSocketMsgCB=[]),window.onSocketMsgCB.push(t),emitMessage({type:"init"})}))})()})();